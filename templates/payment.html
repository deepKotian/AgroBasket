{% load static %}
<link rel ="stylesheet" href="{% static 'css/payment.css' %}">
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel='stylesheet' href='https://unicons.iconscout.com/release/v3.0.6/css/line.css'><link rel="stylesheet" href="{% static 'css/farmerbase.css' %}">
<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Roboto:400,700,300italic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'><link rel='stylesheet' href='https://dl.dropboxusercontent.com/u/69747888/MoGo%20carousel/font-awesome.min.css'>
<link rel="shortcut icon" href="#">
<link rel ="stylesheet" href="{% static 'css/farmerbase.css' %}">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

<center>
<div class="payment">
    <br><br>

    <div class="welcome" style="background-color: #6da524; width: 100%; padding-top: 1rem; padding-bottom: 1rem; border-radius: 0px; color: #fff;">
        <center><h1>Thank You for choosing to shop with AgroBasket</h1>
        <p class="mb-0">Hello Jone Doe, welcome to your awesome dashboard!</p></center></div>
        <div class="p-4">
   
    <br>
    <button class="btn-primary btn" id="rzp-button1">Pay for {{item.get_total | floatformat:2}}</button>
</div><br><a href="https://razorpay.com/" target="_blank"> <img referrerpolicy="origin" src = "https://badges.razorpay.com/badge-dark.png " style = "height: 45px; width: 113px;" alt = "Razorpay | Payment Gateway | Neobank"></a>


<br><br>

<div class="welcome" style="background-color: #6da524; width: 100%; padding-top: 1rem; padding-bottom: 1rem; border-radius: 0px; color: #fff;">
    <center><h1>You might also like</h1></center></div>
    <div class="p-4">

</center> 
<ul class="cards">
    <li class="cards__item">
      <div class="card">
        <div class="card__image">
          <img src="https://images.unsplash.com/photo-1583663848850-46af132dc08e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=735&q=80" class="card-img-top" alt="...">
       </div>
        <div class="card__content">
          <div class="card__title">Brocoli</div>
          <p class="card__text">This is the shorthand for flex-grow, flex-shrink and flex-basis combined. The second and third parameters (flex-shrink and flex-basis) are optional. Default is 0 1 auto. </p>
          <button class="btn btn--block card__btn">Add to cart</button>
        </div>
      </div>
    </li>
    <li class="cards__item">
      <div class="card">
        <div class="card__image">
          <img src="https://images.unsplash.com/photo-1558818498-28c1e002b655?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80" class="card-img-top" alt="...">
        </div>
        <div class="card__content">
          <div class="card__title">Tomatoes</div>
          <p class="card__text">This defines the ability for a flex item to grow if necessary. It accepts a unitless value that serves as a proportion.</p>
          <button class="btn btn--block card__btn">Add to cart</button>
        </div>
      </div>
    </li>
    <li class="cards__item">
      <div class="card">
        <div class="card__image">
          <img src="https://images.unsplash.com/photo-1590868309235-ea34bed7bd7f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=627&q=80" class="card-img-top" alt="...">
        </div>
        <div class="card__content">
          <div class="card__title">Carrots</div>
          <p class="card__text">This defines the ability for a flex item to shrink if necessary. Negative numbers are invalid.</p>
          <button class="btn btn--block card__btn">Add to cart</button>
        </div>
      </div>
    </li>
    <li class="cards__item">
      <div class="card">
        <div class="card__image">
          <img src="https://images.unsplash.com/photo-1612823711171-e296662098fa?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=735&q=80" class="card-img-top" alt="...">
        </div>
        <div class="card__content">
          <div class="card__title">Garlic</div>
          <p class="card__text">This defines the default size of an element before the remaining space is distributed."</p>
          <button class="btn btn--block card__btn">Add to cart</button>
        </div>
      </div>
    </li>
    <li class="cards__item">
      <div class="card">
        <div class="card__image">
          <img src="https://images.unsplash.com/photo-1590165482129-1b8b27698780?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2127&q=80" class="card-img-top" alt="...">
        </div>
        <div class="card__content">
          <div class="card__title">Potatoes</div>
          <p class="card__text">This defines the default size of an element before the remaining space is distributed."</p>
          <button class="btn btn--block card__btn">Add to cart</button>
        </div>
      </div>
    </li>
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>

var options = {
    "amount": "{{order_amount}}",
    "key": "{{api_key}}", // Enter the Key ID generated from the Dashboard
    "currency": "INR",
    "name": "AgroBasket",
    "description": "Online Payment",
    "image": "{% static 'base/img/logo.jpg' %}",
     //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
    "handler": function (response){
        alert(response.razorpay_payment_id);

        if (typeof response.razorpay_payment_id == 'undefined' ||  response.razorpay_payment_id < 1) {
  redirect_url = '/you-owe-money.html';
} else {
  redirect_url = '/customerproducts';
}
location.href = redirect_url;
    },
    "prefill": {
        "name": "Gaurav Kumar",
        "email": "gaurav.kumar@example.com",
        "contact": "9999999999",
        "address": "E-1203 Anmol Fortune" 
    },
    "notes": {
        "address": "Razorpay Corporate Office"
    },
    "theme": {
        "color": "#3399cc"
    }
};
var rzp1 = new Razorpay(options);
rzp1.on('payment.failed', function (response){
        alert(response.error.code);
        alert(response.error.description);
        alert(response.error.source);
        alert(response.error.step);
        alert(response.error.reason);
        alert(response.error.metadata.order_id);
        alert(response.error.metadata.payment_id);
});
document.getElementById('rzp-button1').onclick = function(e){
    rzp1.open();
    e.preventDefault();
}


</script>